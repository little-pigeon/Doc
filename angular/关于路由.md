路遥而迷茫，球一安而已

## 路由的安装和使用

# 1、配置应用的路由功能模块

a.在一模块内引入angular的路由功能模块 import { RouterModule, Routes } from '@angular/router';

b.
```javascript
import { NgModule } from '@angular/core';
import { RouterModule, Routes } from '@angular/router';
import { routesConfig } from './app-routing-config';

@NgModule({
	imports: [ RouterModule.forRoot(routesConfig, { enableTracing: true }) ], // { enableTracing: true } debug下用
	exports: [ RouterModule ]
})

export class AppRoutingModule {}
```

# 2、AppModule导入这个功能模块

在AppModule的@ngmodule中的import这个AppRoutingModule模块

# 3、放出路由
```html
<router-outlet></router-outlet>
```

## 路由的各种用法

# 1、路由的特性配置

a、守卫：canActivate，它的属性值应是一个服务

b、子级路由配置

# 2、在js中，操作路由
```javascript
import { ActivatedRoute } from '@angular/router';
constructor(
    private route: ActivatedRoute
) {}
```

# 3、在html中操作路由
```html
<a routerLink="/crisis-center" routerLinkActive="active">Crisis Center</a>
```

通过this.route属性可以获取路由的参数和控制路由的行为

## 了解下路由模块，路由模块含有以下接口，接口的部分用法，在上面有介绍，例如ActivatedRoute

Router（路由器）为激活的URL显示应用组件。管理从一个组件到另一个组件的导航

RouterModule（路由器模块）一个独立的Angular模块，用于提供所需的服务提供商，以及用来在应用视图之间进行导航的指令。

Routes（路由数组）定义了一个路由数组，每一个都会把一个URL路径映射到一个组件。

Route（路由）定义路由器该如何根据URL模式（pattern）来导航到组件。大多数路由都由路径和组件类构成。

RouterOutlet（路由出口）该指令（<router-outlet>）用来标记出路由器该在哪里显示视图。

RouterLink（路由链接）该指令用来把一个可点击的HTML元素绑定到路由。 点击带有绑定到字符串或链接参数数组的routerLink指令的元素就会触发一次导航。

RouterLinkActive（活动路由链接）当HTML元素上或元素内的routerLink变为激活或非激活状态时，该指令为这个HTML元素添加或移除CSS类。

ActivatedRoute（激活的路由）为每个路由组件提供提供的一个服务，它包含特定于路由的信息，比如路由参数、静态数据、解析数据、全局查询参数和全局碎片（fragment）。

RouterState（路由器状态）路由器的当前状态包含了一棵由程序中激活的路由构成的树。它包含一些用于遍历路由树的快捷方法。

## 了解路由的配置选项

path 是使用路由匹配器DSL的字符串。

pathMatch 是指定匹配策略的字符串。

matcher定义了路径匹配并取代自定义策略path和pathMatch。有关详细信息，请参阅UrlMatcher。

component 是组件类型。

redirectTo 是将替换当前匹配段的url片段。

outlet 是组件应放入的插座的名称。

canActivate（检查路由的访问权限）是用于查找CanActivate处理程序的DI令牌数组。查看 CanActivate更多信息。

canActivateChild（检查子路由的访问权限）是用于查找CanActivateChild处理程序的DI令牌数组。查看 CanActivateChild更多信息。

canDeactivate（询问是否丢弃未保存的更改）是用于查找CanDeactivate处理程序的DI令牌数组。查看 CanDeactivate更多信息。

canLoad（在加载特性模块之前进行检查）是用于查找CanDeactivate处理程序的DI令牌数组。查看 CanLoad更多信息。
(canLoad只能用于lazy-loaded modules中)

data是提供给组件via的附加数据ActivatedRoute。

resolve是用于查找数据解析器的DI令牌的映射。查看Resolve更多信息。

children 是子路由定义的数组。

loadChildren（惰性加载特性模块）是对延迟加载子路由的引用。查看LoadChildren更多信息。

# (canLoad 和 canActivate的区别：canLoad只是检查，但不会阻碍进入；而canActivate如果不通过，则会阻碍进入，并返回首页)